<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Paper | Inst-Inpaint, Instructing to Remove Objects with Diffusion Models | arXiv2023 - Vanessa&#039;s blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Vanessa&#039;s blogğŸ€"><meta name="msapplication-TileImage" content="/img/my_favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Vanessa&#039;s blogğŸ€"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Info Titleï¼š Inst-Inpaint: Instructing to Remove Objects with Diffusion Models Keywordï¼šObject Removalã€Inpaintingã€Diffusion Models Ideaï¼šåˆ©ç”¨Text promptsï¼ˆInstructionsï¼‰è¿›è¡Œå›¾ç‰‡ä¸­çš„ç‰©ä½“å»é™¤ï¼Œå¹¶å¡«å……èƒŒæ™¯å†…å®¹ã€‚ Source Paperï¼Œ2023å¹´"><meta property="og:type" content="blog"><meta property="og:title" content="Paper | Inst-Inpaint, Instructing to Remove Objects with Diffusion Models | arXiv2023"><meta property="og:url" content="https://jennyvanessa.github.io/2023/04/08/2304081525/"><meta property="og:site_name" content="Vanessa&#039;s blog"><meta property="og:description" content="Info Titleï¼š Inst-Inpaint: Instructing to Remove Objects with Diffusion Models Keywordï¼šObject Removalã€Inpaintingã€Diffusion Models Ideaï¼šåˆ©ç”¨Text promptsï¼ˆInstructionsï¼‰è¿›è¡Œå›¾ç‰‡ä¸­çš„ç‰©ä½“å»é™¤ï¼Œå¹¶å¡«å……èƒŒæ™¯å†…å®¹ã€‚ Source Paperï¼Œ2023å¹´"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/1.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/2.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/3.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/4.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/5.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/6.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/7.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/8.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/9.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/10.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/11.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/12.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/13.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/14.png"><meta property="og:image" content="https://jennyvanessa.github.io/2023/04/08/2304081525/15.png"><meta property="article:published_time" content="2023-04-08T07:25:40.000Z"><meta property="article:modified_time" content="2023-04-08T11:00:19.258Z"><meta property="article:author" content="Vanessa Ni"><meta property="article:tag" content="paper"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://jennyvanessa.github.io/2023/04/08/2304081525/1.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jennyvanessa.github.io/2023/04/08/2304081525/"},"headline":"Paper | Inst-Inpaint, Instructing to Remove Objects with Diffusion Models | arXiv2023","image":["https://jennyvanessa.github.io/2023/04/08/2304081525/1.png","https://jennyvanessa.github.io/2023/04/08/2304081525/2.png","https://jennyvanessa.github.io/2023/04/08/2304081525/3.png","https://jennyvanessa.github.io/2023/04/08/2304081525/4.png","https://jennyvanessa.github.io/2023/04/08/2304081525/5.png","https://jennyvanessa.github.io/2023/04/08/2304081525/6.png","https://jennyvanessa.github.io/2023/04/08/2304081525/7.png","https://jennyvanessa.github.io/2023/04/08/2304081525/8.png","https://jennyvanessa.github.io/2023/04/08/2304081525/9.png","https://jennyvanessa.github.io/2023/04/08/2304081525/10.png","https://jennyvanessa.github.io/2023/04/08/2304081525/11.png","https://jennyvanessa.github.io/2023/04/08/2304081525/12.png","https://jennyvanessa.github.io/2023/04/08/2304081525/13.png","https://jennyvanessa.github.io/2023/04/08/2304081525/14.png","https://jennyvanessa.github.io/2023/04/08/2304081525/15.png"],"datePublished":"2023-04-08T07:25:40.000Z","dateModified":"2023-04-08T11:00:19.258Z","author":{"@type":"Person","name":"Vanessa Ni"},"publisher":{"@type":"Organization","name":"Vanessa's blog","logo":{"@type":"ImageObject","url":{"text":"Just be here nowğŸ‡"}}},"description":"Info Titleï¼š Inst-Inpaint: Instructing to Remove Objects with Diffusion Models Keywordï¼šObject Removalã€Inpaintingã€Diffusion Models Ideaï¼šåˆ©ç”¨Text promptsï¼ˆInstructionsï¼‰è¿›è¡Œå›¾ç‰‡ä¸­çš„ç‰©ä½“å»é™¤ï¼Œå¹¶å¡«å……èƒŒæ™¯å†…å®¹ã€‚ Source Paperï¼Œ2023å¹´"}</script><link rel="canonical" href="https://jennyvanessa.github.io/2023/04/08/2304081525/"><link rel="icon" href="/img/my_favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body class="is-2-column"><script type="text/javascript" color="255,255,255" opacity="0.7" zIndex="-1" count="150" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Just be here nowğŸ‡</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/JennyVanessa"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-04-08T07:25:40.000Z" title="2023/4/8 15:25:40">2023-04-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-04-08T11:00:19.258Z" title="2023/4/8 19:00:19">2023-04-08</time></span><span class="level-item">7 minutes read (About 1095 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Paper | Inst-Inpaint, Instructing to Remove Objects with Diffusion Models | arXiv2023</h1><div class="content"><h1 id="Info"><a href="#Info" class="headerlink" title="Info"></a>Info</h1><ul>
<li>Titleï¼š <code>Inst-Inpaint: Instructing to Remove Objects with Diffusion Models</code></li>
<li>Keywordï¼šObject Removalã€Inpaintingã€Diffusion Models</li>
<li>Ideaï¼šåˆ©ç”¨Text promptsï¼ˆInstructionsï¼‰è¿›è¡Œå›¾ç‰‡ä¸­çš„ç‰©ä½“å»é™¤ï¼Œå¹¶å¡«å……èƒŒæ™¯å†…å®¹ã€‚</li>
<li>Source<ul>
<li>Paperï¼Œ2023å¹´4æœˆ6å·arXiv submittedï¼ŒCVPR2023æŠ•ç¨¿ï¼ˆè´¡çŒ®ç‚¹ä¸è¶³ã€å®éªŒä¸å……åˆ†ã€ä¸å¤Ÿåˆ›æ–°ï¼ŒInstructPix2Pixç”¨ä½œå›¾åƒç¼–è¾‘å…¶å®å·²ç»æ¶µç›–äº†æœ¬æ–‡æå‡ºçš„å†…å®¹ï¼‰ã€‚<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2208.03357">Inst-Inpaint: Instructing to Remove Objects with Diffusion Models (arxiv.org)</a></li>
<li>Codeï¼ŒComing soonã€‚<a target="_blank" rel="noopener" href="https://github.com/abyildirim/inst-inpaint">abyildirim/inst-inpaint: A novel inpainting framework that can remove objects from images based on the instructions given as text prompts. (github.com)</a></li>
</ul>
</li>
</ul>
<h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç°å­˜çš„é—®é¢˜ï¼š</p>
<ul>
<li>ç°æœ‰çš„Inpaintingä»»åŠ¡éƒ½æ˜¯å¡«å……<strong>äºŒå€¼æ©è†œï¼ˆbinary masksï¼‰</strong>åŒºåŸŸçš„å†…å®¹ã€‚ç°å®åº”ç”¨æ—¶éœ€è¦ç”¨æˆ·çš„æ ‡æ³¨ï¼Œè¿™æµªè´¹æ—¶é—´ã€ä¹å‘³å¹¶ä¸”å®¹æ˜“å‡ºé”™ã€‚</li>
</ul>
<p><img src="/2023/04/08/2304081525/1.png"></p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p><strong>Instructional Image Inpainting</strong>ï¼šæœ¬æ–‡æå‡ºä¸€ç§åŸºäºè‡ªç„¶è¯­è¨€è¾“å…¥ï¼ˆnatural language inputï¼‰çš„ç›®æ ‡ç§»é™¤çš„ä»»åŠ¡ã€‚</p>
<ul>
<li><p><strong>Dataset</strong>ï¼šä¸ºInst-Inpaintæ„å»ºäº†ä¸€ä¸ªå‘½åä¸ºGQA-Inpaintçš„æ•°æ®é›†ï¼ˆåŸå§‹source imageã€ç›®æ ‡ç§»é™¤text promptã€ç›®æ ‡ç§»é™¤åçš„target imageä¸‰å…ƒç»„ï¼‰ã€‚</p>
</li>
<li><p><strong>Method</strong>ï¼šRemove objects from images based on the instructions given as <strong>text prompts</strong>ã€‚åŸºäºlatent diffusionçš„æœ‰æ¡ä»¶ç§»é™¤ï¼ˆStable Diffusionæœ‰æ¡ä»¶ç”Ÿæˆå¯ä»¥è¿ç§»åˆ°Inpaintingä»»åŠ¡ï¼Œä½†æ˜¯ç”Ÿæˆæ€§èƒ½è¾ƒå¥½ï¼Œé¢å¯¹ç§»é™¤é—®é¢˜æ—¶not work that wellï¼‰ã€‚</p>
</li>
</ul>
<h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h3 id="Dataset-Generation"><a href="#Dataset-Generation" class="headerlink" title="Dataset Generation"></a>Dataset Generation</h3><p><img src="/2023/04/08/2304081525/2.png"></p>
<ul>
<li>åœ¨GQAæ•°æ®é›†ï¼ˆvisual reasoningï¼‰ä¸Šåˆ›å»ºbenchmarkæ•°æ®é›†GQA-Inpaintï¼Œåˆ©ç”¨GQAæ•°æ®é›†æä¾›çš„åœºæ™¯å…³ç³»å›¾ã€ä»¥åŠsotaå®ä¾‹åˆ†å‰²æ¨¡å‹å’ŒInpaintingæ¨¡å‹æ¥ç”Ÿæˆæ•°æ®ã€‚</li>
<li>scene graphsï¼šobjectã€attributeã€relationä¸‰å…ƒç»„ï¼Œ85K pairsã€‚æ¯ä¸€ä¸ªç»“ç‚¹ä»£è¡¨ä¸€ä¸ªç‰©ä½“ï¼Œä½ç½®å’Œå¤§å°ä¼šæœ‰bounding boxæ ‡å‡ºï¼›attributeåŒ…æ‹¬colorã€shapeå’Œmaterialï¼›relationè¡¨ç¤ºäº†ç©ºé—´ä½ç½®ã€‚</li>
</ul>
<p><img src="/2023/04/08/2304081525/3.png"></p>
<p><img src="/2023/04/08/2304081525/4.png"></p>
<ol>
<li><p>Selecting Objects from the Scene Graphs</p>
<p>é€‰æ‹©æ•°æ®é›†ä¸­è¾ƒå¸¸è§çš„target objectsï¼Œé¿å…é€‰æ‹©bounding boxè¿‡å¤§æˆ–è¿‡å°çš„ç‰©ä½“ã€‚</p>
</li>
<li><p>Extracting Segmentation Masks</p>
<p>åŸºäºDetectron2 code baseï¼Œåˆ©ç”¨å¤šä¸ªåœ¨COCOå’ŒLVISæ•°æ®é›†ä¸Šçš„å®ä¾‹åˆ†å‰²è¿›è¡Œseg maskçš„æå–ï¼Œå–å’ŒåŸå§‹æ•°æ®é›†bounding box IoUæœ€å¤§çš„maskã€‚</p>
</li>
<li><p>Removing Objects From Images</p>
<p>åˆ©ç”¨Cascade PSPæ¨¡å‹refineé¢„æµ‹çš„seg maskï¼Œå†åˆ©ç”¨ç»“æ„å…ƒç´ ä¸º11Ã—11åƒç´ çš„å½¢æ€å­¦æ‰©å¼ åœ¨è¾¹ç¼˜å¤„å±•å¼€seg maskã€‚æœ€åä½¿ç”¨CRFillæ¨¡å‹è¿›è¡Œå¡«å……ã€‚</p>
<p><img src="/2023/04/08/2304081525/5.png"></p>
</li>
<li><p>Generating Textual Prompts</p>
<p>å¦‚æœé€‰æ‹©çš„ç‰©ä½“åœ¨å›¾åƒä¸­æ˜¯ä¸€ä¸ªuniqueå®ä¾‹ï¼Œä¸å­˜åœ¨å…³ç³»é—®é¢˜ï¼Œç”Ÿæˆç®€å•text promptâ€œremove the [object]â€</p>
<p>å¦‚æœå­˜åœ¨å¤šä¸ªå®ä¾‹æ˜¯åŒä¸€ä¸ªç‰©ä½“ç±»åˆ«çš„ï¼Œä½¿ç”¨scene graphä¸­çš„å…³ç³»ä¿¡æ¯æ¥æ„é€ å…·æœ‰ç›¸å¯¹ä½ç½®çš„text promptã€‚</p>
</li>
</ol>
<h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><ul>
<li>ç¬¬ä¸€æ­¥æ˜¯ç‹¬ç«‹è®­ç»ƒå˜åˆ†è‡ªç¼–ç å™¨ï¼Œencoderã€decoderæ¥å°†å›¾åƒé™åˆ°ä½ç»´å¹¶é‡å»ºã€‚</li>
<li>åŠ å™ªå»å™ªçš„è¿‡ç¨‹å’ŒStable Diffusionç›¸åŒæ¶æ„ã€‚</li>
</ul>
<p><img src="/2023/04/08/2304081525/6.png"></p>
<ul>
<li>additional conditioningï¼š<strong>source image</strong>ã€text prompt<ul>
<li>åˆ©ç”¨targetå›¾ç‰‡ï¼ˆç§»é™¤ç‰©ä½“åçš„ï¼‰ç»è¿‡encoderè·å–<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex;" xmlns="http://www.w3.org/2000/svg" width="2.04ex" height="1.375ex" role="img" focusable="false" viewBox="0 -442 901.6 607.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mn" transform="translate(498,-150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></svg></mjx-container>ã€‚æ¯ä¸€ä¸ªtime stepsource imageä¹Ÿé€šè¿‡ç¼–ç å™¨ä½œä¸ºé¢å¤–çš„æ¡ä»¶è¾“å…¥å’Œ<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="1.817ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 803.3 599.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mi" transform="translate(498,-150) scale(0.707)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g></g></g></g></svg></mjx-container> concatã€‚</li>
<li>Tæ˜¯transformer modelï¼Œiä¸ºæ–‡æœ¬instructionã€‚åˆ©ç”¨BERT tokenizerç”Ÿæˆtokenï¼Œè®­ç»ƒä¸€ä¸ªtransformer model from scratchæ¥è·å–instruction embeddingsï¼Œä¾›U-Net layersä¸­çš„cross attention mechanismä½¿ç”¨ã€‚</li>
</ul>
</li>
</ul>
<p><img src="/2023/04/08/2304081525/7.png"></p>
<p><img src="/2023/04/08/2304081525/8.png"></p>
<ul>
<li><p>è®­ç»ƒç»†èŠ‚</p>
<ul>
<li>åœ¨CLEVRï¼ˆä¸‰ç»´ç‰©ä½“ç¼–è¾‘æ•°æ®é›†ï¼ŒåŒ…æ‹¬source/target imageå’Œtextï¼‰ã€GQA-Inpaintä¸Šè®­ç»ƒäº†æ¨¡å‹ï¼ˆ5405trainã€2362testï¼‰ã€‚</li>
<li>GQA-Inpaintï¼ˆè®­ç»ƒä½¿ç”¨44500unique source imagesã€88369unique target imagesã€173715 unique source-target-prompt pairsï¼›æµ‹è¯•ä½¿ç”¨4811 unique source imagesã€9485 unique target imagesã€18883 unique source-target-prompt pairsï¼‰</li>
<li>CLEVRçš„VAEæ˜¯ä»é›¶è®­ç»ƒï¼ŒGQA-Inpaintçš„VAEä½¿ç”¨pretrained VQGANæ¨¡å‹ï¼ˆåœ¨Open Imagesæ•°æ®é›†ä¸Šè®­ç»ƒçš„ï¼Œ has 16384 number of codebook entriesï¼‰</li>
<li>CLEVRä½¿ç”¨å…«å±‚transformerã€4-head cross attentionå’Œactivation layersã€‚GQA-Inpaintä½¿ç”¨16å±‚transformerã€8-head cross attentionã€‚</li>
</ul>
</li>
<li><p>å¯¹æ¯”çš„ä¸€ä¸ªInstruct X-Decoderç”Ÿæˆåˆ†å‰²å›¾ç„¶åè¿›è¡Œç‰©ä½“ç§»é™¤ï¼Œç»“åˆäº†X-Decoderçš„å›¾ç‰‡ç†è§£èƒ½åŠ›ã€GPT-3çš„è¯­è¨€ç†è§£èƒ½åŠ›å’Œstable diffusionçš„ç”Ÿæˆèƒ½åŠ›ã€‚ï¼ˆè®­ç»ƒæ•°æ®é›†æ¯”æå‡ºçš„GQA-Inpaint å¤§å¾ˆå¤šï¼‰</p>
</li>
<li><p>æ¨¡å‹æ–¹é¢ï¼Œå’ŒStable Diffusionçš„åŒºåˆ«å°±æ˜¯è¾“å…¥å›¾åƒæ²¡maskåŒºåŸŸï¼ŒæŒ‡ä»¤æ˜¯source imageéœ€è¦ç§»é™¤éƒ¨åˆ†çš„text promptsã€‚</p>
</li>
</ul>
<h1 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h1><p><img src="/2023/04/08/2304081525/9.png"></p>
<p><img src="/2023/04/08/2304081525/10.png"></p>
<p><img src="/2023/04/08/2304081525/11.png"></p>
<p><img src="/2023/04/08/2304081525/12.png"></p>
<p><img src="/2023/04/08/2304081525/13.png"></p>
<p><img src="/2023/04/08/2304081525/14.png"></p>
<p><img src="/2023/04/08/2304081525/15.png"></p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Paper | Inst-Inpaint, Instructing to Remove Objects with Diffusion Models | arXiv2023</p><p><a href="https://jennyvanessa.github.io/2023/04/08/2304081525/">https://jennyvanessa.github.io/2023/04/08/2304081525/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Vanessa Ni</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2023-04-08</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2023-04-08</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/paper/">paper</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=63fb1795595f5b00134e8c46&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="/" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>Afdian.net</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="22210240038@m.fudan.edu.cn"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2023/04/10/2304101122/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Paper | Generative Diffusion Prior for Unified Image Restoration and Enhancement | CVPR2023</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2023/04/04/2304041616/"><span class="level-item">Paper | Perceptual Artifacts Localization for Inpainting | ECCV2022</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://jennyvanessa.github.io/2023/04/08/2304081525/';
            this.page.identifier = '2023/04/08/2304081525/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'Nora' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Info"><span class="level-left"><span class="level-item">1</span><span class="level-item">Info</span></span></a></li><li><a class="level is-mobile" href="#Abstract"><span class="level-left"><span class="level-item">2</span><span class="level-item">Abstract</span></span></a></li><li><a class="level is-mobile" href="#Method"><span class="level-left"><span class="level-item">3</span><span class="level-item">Method</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Model"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Model</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Evaluation"><span class="level-left"><span class="level-item">4</span><span class="level-item">Evaluation</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar1.png" alt="Vanessa NiğŸ›¸ğŸ´â€â˜ ï¸"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Vanessa NiğŸ›¸ğŸ´â€â˜ ï¸</p><p class="is-size-6 is-block">ğŸ’—I am currently a first-year postgraduate student at Fudan University. My research focuses on computer visionğŸ‘ï¸, especially image/face inpainting and image quality assessment. ğŸ’»I graduated from Tianjin University with a Bachelor&#039;s degree in Software Engineering, and acquired a little knowledge about 2d/3d object detection. I worked as an algorithm engineer intern at CATRC and Baidu. ğŸ“™I enjoy reading (especially psychology and philosophy), travelingğŸ§³, photographyğŸ“¸, working outğŸ’ª, and dancingğŸ’ƒ in my free time. ğŸš€I want to become an algorithm engineer or go to the U.S. for Ph.D. 3 years later.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shanghai</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">24</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">4</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/JennyVanessa" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/JennyVanessa"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Growth/"><span class="level-start"><span class="level-item">Growth</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Util/"><span class="level-start"><span class="level-item">Util</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-10T03:22:58.000Z">2023-04-10</time></p><p class="title"><a href="/2023/04/10/2304101122/">Paper | Generative Diffusion Prior for Unified Image Restoration and Enhancement | CVPR2023</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-08T07:25:40.000Z">2023-04-08</time></p><p class="title"><a href="/2023/04/08/2304081525/">Paper | Inst-Inpaint, Instructing to Remove Objects with Diffusion Models | arXiv2023</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-04T08:16:52.000Z">2023-04-04</time></p><p class="title"><a href="/2023/04/04/2304041616/">Paper | Perceptual Artifacts Localization for Inpainting | ECCV2022</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-04T08:11:21.000Z">2023-04-04</time></p><p class="title"><a href="/2023/04/04/2304041611/">Paper | High-Resolution Image Inpainting with Iterative Confidence Feedback and Guided Upsampling | ECCV2020</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-03-27T09:23:48.000Z">2023-03-27</time></p><p class="title"><a href="/2023/03/27/2303271723/">Paper | SmartBrush, Text and Shape Guided Object Inpainting with Diffusion Model | CVPR2023</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Growth/"><span class="tag">Growth</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NLP/"><span class="tag">NLP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/paper/"><span class="tag">paper</span><span class="tag">13</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Just be here nowğŸ‡</a><p class="is-size-7"><span>&copy; 2023 Vanessa Ni</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">Â© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>